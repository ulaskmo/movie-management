<h2>Movie List</h2>

<!-- Search Section -->
<div class="search-container">
  <input
    type="text"
    [(ngModel)]="searchQuery"
    (input)="searchMovies()"
    placeholder="Search by Title or Director"
    class="search-input"
  />
</div>

<!-- Add New Movie Button -->
<div class="add-button-container">
  <button
    routerLink="/movies/add"
    class="add-button"
  >
    Add New Movie
  </button>
</div>

<!-- Movie List Table -->
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Director</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let movie of filteredMovies">
      <td>
        <a (click)="showMovieDetails(movie)" class="movie-title-link">
          {{ movie.title }}
        </a>
      </td>
      <td>{{ movie.director }}</td>
      <td>
        <button (click)="editMovie(movie._id)" class="edit-button">Edit</button>
        <button (click)="deleteMovie(movie._id)" class="delete-button">Delete</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Movie Details Section -->
<div *ngIf="selectedMovie" class="movie-details">
  <h3>Movie Details</h3>
  <p><strong>Title:</strong> {{ selectedMovie.title }}</p>
  <p><strong>Director:</strong> {{ selectedMovie.director }}</p>
  <p><strong>Genre:</strong> {{ selectedMovie.genre }}</p>
  <p><strong>Year:</strong> {{ selectedMovie.year }}</p>
  <p><strong>Rental Price:</strong> ${{ selectedMovie.rentalPrice }}</p>
  <p><strong>Available Copies:</strong> {{ selectedMovie.availableCopies }}</p>
  <button (click)="hideMovieDetails()" class="close-button">Close</button>
</div>
